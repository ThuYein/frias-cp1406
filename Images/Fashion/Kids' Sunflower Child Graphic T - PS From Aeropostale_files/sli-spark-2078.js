function SliSpark(ak,ao){var aA=undefined,aw=ak,at=ao,aS=aA,bc=aA,am=aA,aP=aA,aL=aA,be=aA,aX=aA,a3=aA,az=[],aT=window.location.protocol,av=aA,ax=aA,aY=aA,a0=1,aj=0,al="",aM=0,aC=new Date().getTime(),ar=aA,aU=0,aN=aA,a4=[],a9=aA,aG=aA,aH=aA,aZ="SLIBeacon",au="SLI1",ay="SLI2",aD="SLI4",a2=false,ap=63072000,aq=15552000,a7=43200,a6=1800,aJ=0,a5=0,aB="b.sli-spark.com/b.png?",aV="SLIData",aF=false,bd=aA;function ba(a){return encodeURIComponent(a)}function an(a,f,g,e){if(aF){f="";g=0}var c=aA,b=";",d=aA;if(g>=0){c=new Date();c.setSeconds(g);b="; expires="+c.toGMTString()}d=a+"="+f+b+"; path="+e+a9;document.cookie=d;return d}function a1(b,d,a,c){an(b+aG,"",0,c);b+=aH;return an(b,d,a,c)}function aR(c,b){c+=b;var d=aA;var a=new RegExp(c+"\\s*=\\s*([^\\s;$]*)\\s*(?:;|$)","g");var e=a.exec(document.cookie);if(e===null){return d}d=e[1];return d}function aW(a){var b=aR(a,aH);if(b){return b}b=aR(a,aG);if(b){an(a+aG,"",0,"/");return b}return aA}function aI(a){var c="";for(var b=0;b<9;b++){c+=String.fromCharCode(65+Math.round(Math.random()*25))}c+=(a);for(b=0;b<9;b++){c+=String.fromCharCode(65+Math.round(Math.random()*25))}return c}var aO=function ai(c,e,f,b,a){this.transactionId=c;this.systemUserId=e;this.orderTotal=f;this.shippingTotal=b;this.taxTotal=a;this.items=[];var d=function(g,h,i){this.sku=g;this.qty=h;this.total=i;this.toString=function(){return"("+ba(this.sku)+"|"+ba(this.qty)+"|"+ba(this.total)+")"}};this.addItem=function(g,h,i){var j=new d(g,h,i);this.items.push(j)}};function ah(){a2=true;if(a9===aA){aE()}bd=aR(aV,"");if(bd==="0"){aF=true;a1(aZ,"",0,"/");a1(au,"",0,"/");a1(ay,"",0,"/");a1(aD,"",0,"/")}aY=aW(aZ);var b=/\W/;if(aY!==aA&&b.test(aY)){aY=aI(aC)}var e=aW(ay),a=aW(au),c,g=aA;if(a&&e&&aY){c=a.split(".");if(c.length===3){al=c[0];a0=parseInt(c[1],10)+1;aM=c[2]}else{if(c.length===4){g=c[0];al=c[1];a0=parseInt(c[2],10)+1;aM=c[3]}}if((aC-(a7*1000))>al){al=aC;a0=1;aM=0}}else{if(aY&&a){c=a.split(".");if(c.length===4){g=c[0]}al=aC;a0=1;aM=0}else{if(aY&&e){c=e.split(".");if(c.length===4){g=c[0]}al=aC;a0=1;aM=0}else{if(e){aU|=2;c=e.split(".");if(c.length===3){al=c[0];a0=parseInt(c[1],10)+1;aM=c[2]}else{if(c.length===4){g=c[0];al=c[1];a0=parseInt(c[2],10)+1;aM=c[3]}}if((aC-(a7*1000))>al){al=aC;a0=1;aM=0}}else{al=aC;a0=1;aM=0}}}}if(aY===aA){aY=aI(aC)}a1(aZ,aY,ap,"/");aN=aY+"."+al+"."+a0+"."+aM;a1(au,aN,a6,"/");a1(ay,aN,-1,"/");var h=aW(ay),f=aW(au);if(h===aA){aU|=1}if(f===aA){aU|=2}ar=aW(aD);if(ar===aA){ar=0}try{av=top.document.referrer}catch(d){try{av=document.referrer}catch(i){av=aA}}}this.addTransaction=function(c,d,e,b,a){ax=new aO(c,d,e,b,a)};this.addItem=function(c,a,b){if(ax!==aA){ax.addItem(c,a,b)}};this.addSearch=function(d,e,b,c,a){if(!a2){ah()}else{a0+=1}am=d;be=e;aL=b;aX=c;if(a){a3=a}aM=parseInt(aM,10)+1;aN=aY+"."+al+"."+a0+"."+aM;ar=aC;a1(au,aN,a6,"/");a1(ay,aN,-1,"/");a1(aD,aC,aq,"/")};this.setPageType=function(a){aP=a};this.setLocation=function(a){aS=a};this.addPageSku=function(a){az.push(ba(a))};this.setSystemUserId=function(a){bc=a};this.setCookieDomain=function(a){if(a.substring(0,1)!=="."){a="."+a}a9="; domain="+a;aG=bb(subDomain);aH=a8(subDomain)};this.addCustomField=function(a,b){var c=[a,b];if(a5){a4=[];a5=0}a4.push(c)};this.writeTrackCode=function(){aK("pageview")};this.writeEventCode=function(){aK("event")};function aK(g){if(!a2){ah()}aj+=1;var a=aB,d,f;d="logtype="+ba(g);d+="&custCode="+ba(aw);d+="&siteId="+ba(at);d+="&sessionId="+ba(aN);d+="&eventCount="+ba(aj);d+="&lastVisit="+ba(al);if(ar){d+="&lastSearch="+ba(ar)}if(aS){d+="&location="+ba(aS)}if(bc){d+="&systemUserId="+ba(bc)}if(am){d+="&searchTerm="+ba(am)}if(aP){d+="&pageType="+ba(aP)}if(aL){d+="&searchPageNumber="+ba(aL)}if(be){d+="&numberSearchResults="+ba(be)}if(aX){d+="&searchRefinements="+ba(aX)}if(a3){d+="&sort="+ba(a3)}if(av){d+="&referrer="+ba(av)}if(aU){d+="&bcf="+ba(aU)}if(az.length){d+="&sku="+ba(az.join(";"));az=[]}aQ();if(a4.length){var e="";for(f=0;f<a4.length;f++){var b="("+ba(a4[f][0])+":"+ba(a4[f][1])+")";e+=(f>0)?";"+b:b}d+="&customFields=u"+ba(e);a5=1}if(bd!==aA){d+="&p="+ba(bd)}var c=new Image(1,1);c.src=aT+"//"+a+d;c.onload=function(){}}this.writeTransactionCode=function(){if(!a2){ah()}aj+=1;var a=aB,e="logtype=transaction";e+="&custCode="+ba(aw);e+="&siteId="+ba(at);e+="&transactionId="+ba(ax.transactionId);e+="&systemUserId="+ba(ax.systemUserId);e+="&orderTotal="+ba(ax.orderTotal);e+="&shippingTotal="+ba(ax.shippingTotal);e+="&taxTotal="+ba(ax.taxTotal);e+="&sessionId="+ba(aN);e+="&eventCount="+ba(aj);e+="&lastVisit="+ba(al);if(ar){e+="&lastSearch="+ba(ar)}if(aU){e+="&bcf="+ba(aU)}if(ax.items.length){var c="";for(var g=0;g<ax.items.length;g++){c+=(g>0)?";"+ax.items[g].toString():ax.items[g].toString()}e+="&items=u"+ba(c)}if(a4.length){var f="";for(g=0;g<a4.length;g++){var b="("+ba(a4[g][0])+":"+ba(a4[g][1])+")";f+=(g>0)?";"+b:b}e+="&customFields=u"+ba(f);a5=1}if(bd!==aA){e+="&p="+ba(bd)}var d=new Image(1,1);d.src=aT+"//"+a+e;d.onload=function(){}};function bb(c){var a=0;for(var b=0,d=c.length;b<d;b++){a=(a>>2)^c.charCodeAt(b)}return"_"+a}function a8(c){var e=65535,b=65535;for(var a=0,d=c.length;a<d;a++){b+=e+=c.charCodeAt(a)}e=(e&65535)+(e>>16);b=(b&65535)+(b>>16);return"_"+Math.abs(b<<16|e)}function aE(){var c=document.domain.split(".");var d=c[c.length-1];var a="sli_domain_locator";for(var b=c.length-2;b>=0;b--){d=c[b]+"."+d;aG=bb(d);aH=a8(d);a9="; domain="+d;a1(a,"s",-1,"/");if(aW(a)!==aA){a1(a,"s",0,"/");return a9}}a9="; domain="+document.domain;aG=bb(d);aH=a8(d)}function aQ(){var a=0,b=0;if(typeof(window.innerWidth)=="number"){b=window.innerHeight;a=window.innerWidth}else{if(document.documentElement&&(document.documentElement.clientWidth||document.documentElement.clientHeight)){b=document.documentElement.clientHeight;a=document.documentElement.clientWidth}else{if(document.body&&(document.body.clientWidth||document.body.clientHeight)){b=document.body.clientHeight;a=document.body.clientWidth}}}a4.push(["_win",a+"x"+b]);if(window.screen){a4.push(["_res",screen.width+"x"+screen.height])}}};